#!/usr/bin/env bash
# This script extracts visitor IPs and HTTP status codes from an Apache access log

# Define log file
LOG_FILE="apache-access.log"

# Check if log file exists
if [[ ! -f "$LOG_FILE" ]]; then
    echo "Error: Log file not found: $LOG_FILE" >&2
    exit 1
fi

# Extract and print IP and HTTP status code, ensuring valid log lines
awk 'NF >= 9 {print $1, $9}' "$LOG_FILE"
